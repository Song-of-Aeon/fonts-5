<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_menu</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>menuposition = 0;
selectoronsong = true;
selectorposx = 652;
selectorposy = 120;
hspd = 0;
menuxscale = 1;
menuyscale = 1;
lockon = 0;

global.scoring[0] = 0;
global.scoring[1] = "00.00";
global.scoring[2] = "00.00";
global.scoring[3] = "00.00";
global.scoring[4] = "00.00";
global.scoring[5] = "00.00";
global.currentstage = 6;
scoreshow = array_create(6);
scoreshowcolour = array(c_white, c_white, c_white, c_white, c_white, c_white);

global.songscript = c_jumptest;
global.storymode = false;
global.cutscenecount = 0;

global.red = s_red;
global.blue = s_blue;
global.purple = s_purple;
global.freeze = s_green;
global.effect = s_effect;
global.mine = s_mine;
global.receptor = s_receptor;
global.noteoverride = 0;
global.gimmickactive = true;
global.xmod = 14;

if file_exists("profile.ini") {
    //game_load("profile.dat");
    ini_open("profile.ini");
    global.scoring[0] = ini_read_string("scores", "stage 0", "00.00");
    global.scoring[1] = ini_read_string("scores", "stage 1", "00.00");
    global.scoring[2] = ini_read_string("scores", "stage 2", "00.00");
    global.scoring[3] = ini_read_string("scores", "stage 3", "00.00");
    global.scoring[4] = ini_read_string("scores", "stage 4", "00.00");
    global.scoring[5] = ini_read_string("scores", "stage 5", "00.00");
    ini_close();
}

audio_play_sound(m_night, 0, false);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = stagemenu {
    c_input();
    
    if selectoronsong {
        if up &amp;&amp; menuposition &gt; 0 {
            if menuposition = 1 {
                selectorposy++;
            }
            menuposition--;
        }
        if down &amp;&amp; menuposition &lt; 5 {
            if menuposition = 0 {
                selectorposy--;
            }
            menuposition++;
        }
        
        if menuposition &gt;= 1 {
            if selectorposy &lt; menuposition*87+128 {
                selectorposy += 3;
            } else if selectorposy &gt; menuposition*87+128 {
                selectorposy -= 3;
            }
            if menuxscale &gt; 1 {
                menuxscale -= .05;
            }
            if menuyscale &gt; 1 {
                menuyscale -= .15;
            }
        } else {
            if selectorposy &lt; menuposition*87+129 {
                selectorposy += 3;
            } else if selectorposy &gt; menuposition*87+129 {
                selectorposy -= 3;
            }
            if menuxscale &lt; 2 {
                menuxscale += .05;
            }
            if menuyscale &lt; 1.2 {
                menuyscale += .15;
            }
        }
        
        var i;
        for (i=0; i&lt;6; i++) {
            scoreshowcolour[i] = c_white;
            switch string_copy(global.scoring[i], 6, 1) {
                case "M":
                    scoreshowcolour[i] = c_teal;
                    break;
                case "P":
                    scoreshowcolour[i] = c_yellow;
                    break;
                case "G":
                    scoreshowcolour[i] = c_green;
                    break;
                case "":
                    scoreshowcolour[i] = c_white;
                    break;
            }
            scoreshow[i] = string_copy(global.scoring[i], 1, 5);
            
        }
        
        if select &amp;&amp; !instance_exists(o_fao) {
            switch menuposition {
                case 0:
                    global.songscript = c_combattheme;
                    global.storymode = true;
                    break;
                case 1:
                    global.songscript = c_combattheme;
                    break;
                case 2:
                    global.songscript = c_lancerraps;
                    break;
                case 3:
                    global.songscript = c_everythingwillfreeze;
                    break;
                case 4:
                    global.songscript = c_drivin;
                    break;
                case 5:
                    global.songscript = c_eonbreak;
                    break;
            }
            audio_play_sound(se_select, 0, false);
            global.currentstage = menuposition;
            audio_stop_sound(m_night);
            if menuposition != 0 {
                instance_create(0, 0, o_fao);
            } else {
                with instance_create(0, 0, o_fao) {
                    leaving = cutscene;
                }
            }
        }
    } else {
        if lockon = 0 {
            if select {
                lockon = menuposition+1;
            }
            if up &amp;&amp; menuposition &gt; 0 {
                menuposition--;
                /*selectorposx = 1037;
                selectorposy = 298;*/
            }
            if down &amp;&amp; menuposition &lt; 2 {
                menuposition++;
                /*selectorposx = 1037;
                selectorposy = 470;*/
            }
        } else if lockon = 1 {
            if left &amp;&amp; global.noteoverride &gt; 0
                global.noteoverride--;
            if right &amp;&amp; global.noteoverride &lt; 5
                global.noteoverride++;
            if back || select
                lockon = 0;
        } else if lockon = 2 {
            global.gimmickactive = !global.gimmickactive;
            lockon = 0;
        } else if lockon = 3 {
            if left &amp;&amp; global.xmod &gt; 0
                global.xmod -= .5;
            if right &amp;&amp; global.xmod &lt; 20
                global.xmod += .5;
            if back || select
                lockon = 0;
        }
        if selectorposy &lt; menuposition*174+215 {
            selectorposy += 6;
        } else if selectorposy &gt; menuposition*174+215 {
            selectorposy -= 6;
        }
        switch menuposition {
            case 0:
                if menuxscale &gt; 1.2 {
                    menuxscale -= .05;
                }
                if menuxscale &lt; 1.2 {
                    menuxscale += .05;
                }
                break;
            case 1:
                if menuxscale &gt; 1.15 {
                    menuxscale -= .05;
                }
                if menuxscale &lt; 1.15 {
                    menuxscale += .05;
                }
                break;
            case 2:
                if menuxscale &gt; 0.75 {
                    menuxscale -= .05;
                }
                if menuxscale &lt; 0.75 {
                    menuxscale += .05;
                }
                break;
        }
        if menuyscale &gt; 1 {
            menuyscale -= .05;
        }
    }
    if (left || right) &amp;&amp; lockon = 0 {
        selectoronsong = !selectoronsong;
        menuposition = 0;
        if !selectoronsong {
            selectorposx = 1037;
            selectorposy = 215;
        } else {
            selectorposx = 652;
            selectorposy = 120;
        }
    }
}

/*if left {
    switch global.red {
    }
}*/

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = stagemenu {
    draw_self();
    draw_sprite_ext(s_cursor, 0, selectorposx, selectorposy, menuxscale, menuyscale, 0, c_white, 1);
    draw_set_colour(c_white);
    //draw_text(100, 100, string(menuposition));
    if selectoronsong {
        switch menuposition {
            case 0:
                draw_text(652, menuposition*87+162, "");
                break;
            case 1:
                draw_text(652, menuposition*87+162, "Combat Theme");
                break;
            case 2:
                draw_text(652, menuposition*87+162, "Lancer Raps");
                break;
            case 3:
                draw_text(652, menuposition*87+162, "Everything Will Freeze");
                break;
            case 4:
                draw_text(652, menuposition*87+162, "Spider Dance");
                break;
            case 5:
                draw_text(652, menuposition*87+162, "Eon Break");
                break;
        }
    }
    
    //draw_text()
    draw_set_font(f_scoreronaldo);
    draw_sprite_ext(s_scorecloud, 0, 1000, 160, 1.5, 1.2, 0, c_white, 1);
    draw_sprite_ext(s_scorecloud, 0, 800, 87+160, 1, 1, 0, scoreshowcolour[1], 1);
    draw_sprite_ext(s_scorecloud, 0, 800, 174+160, 1, 1, 0, scoreshowcolour[2], 1);
    draw_sprite_ext(s_scorecloud, 0, 800, 261+160, 1, 1, 0, scoreshowcolour[3], 1);
    draw_sprite_ext(s_scorecloud, 0, 800, 348+160, 1, 1, 0, scoreshowcolour[4], 1);
    draw_sprite_ext(s_scorecloud, 0, 800, 435+160, 1, 1, 0, scoreshowcolour[5], 1);
    
    draw_text(840, 87+145, scoreshow[1]);
    draw_text(840, 174+145, scoreshow[2]);
    draw_text(840, 261+145, scoreshow[3]);
    draw_text(840, 348+145, scoreshow[4]);
    draw_text(840, 435+145, scoreshow[5]);
    
    draw_sprite_ext(global.receptor, 0, 221+64-24, 250, 1, 1, -90, c_white, 1);
    draw_sprite_ext(global.receptor, 0, 221+128-24, 250, 1, 1, 0, c_white, 1);
    draw_sprite_ext(global.receptor, 0, 221+192-24, 250, 1, 1, 180, c_white, 1);
    draw_sprite_ext(global.receptor, 0, 221+256-24, 250, 1, 1, 90, c_white, 1);
    var noteskinshow = s_kaguya;
    switch global.noteoverride {
        case 0:
            noteskinshow = s_null;
            break;
        case 1:
            noteskinshow = s_red;
            break;
        case 2:
            noteskinshow = s_aka;
            break;
        case 3:
            noteskinshow = s_dark;
            break;
        case 4:
            noteskinshow = s_azul;
            break;
        case 5:
            noteskinshow = s_trueblue;
            break;
    }
    draw_set_halign(fa_center);
    if global.noteoverride != 0 {
        draw_sprite(noteskinshow, 0, 1120, 270);
    } else 
        draw_text(1120, 270, "Default"); //hate how this is possible, still
    draw_set_halign(fa_center);
    if global.gimmickactive = true {
        draw_text(1120, 440, "Active");
    } else {
        draw_text(1120, 440, "Inactive");
    }
    draw_text(1120, 610, string(global.xmod));
    draw_set_halign(fa_left);
    draw_sprite(s_menucover, 0, 207, 591);
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
